<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Links para Web Security Extension</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 40px; 
            line-height: 1.6; 
        }
        .test-section { 
            margin: 30px 0; 
            padding: 20px; 
            border: 1px solid #ddd; 
            border-radius: 8px; 
        }
        h2 { 
            color: #333; 
            margin-bottom: 15px; 
        }
        a { 
            display: block; 
            margin: 10px 0; 
            padding: 8px; 
            text-decoration: none; 
            color: #007bff; 
            border: 1px solid #e0e0e0; 
            border-radius: 4px; 
        }
        a:hover { 
            background-color: #f8f9fa; 
        }
        .description {
            font-size: 0.9em;
            color: #666;
            margin-left: 20px;
        }
    </style>
</head>
<body>
    <h1>üîç Teste de An√°lise de Links - Web Security Extension v3</h1>
    <p>Esta p√°gina cont√©m links de teste para verificar se a extens√£o est√° funcionando corretamente.</p>
    <p><strong>Vers√£o Completa:</strong> Com implementa√ß√£o nativa de punycode para detec√ß√£o completa de ataques.</p>

    <div class="test-section">
        <h2>üü¢ Links Normais (Esperado: Verde - Tipo 1)</h2>
        <a href="https://google.com">Google.com</a>
        <div class="description">Link normal usando apenas caracteres latinos</div>
        
        <a href="https://github.com">GitHub.com</a>
        <div class="description">Outro link normal</div>
        
        <a href="https://stackoverflow.com">StackOverflow.com</a>
        <div class="description">Link comum de programa√ß√£o</div>
    </div>

    <div class="test-section">
        <h2>üü° Links Suspeitos com Punycode (Esperado: Amarelo - Tipo 2)</h2>
        <a href="https://xn--ggl-tdd6ba.com">xn--ggl-tdd6ba.com</a>
        <div class="description">Punycode que decodifica para "g–æ–ægl–µ.com" (mistura Latino/Cir√≠lico)</div>
        
        <a href="https://xn--80ak6aa92e.com">xn--80ak6aa92e.com</a>
        <div class="description">Punycode para "–∞—Ä—Ä”è–µ.com" (imita√ß√£o de Apple)</div>
        
        <a href="https://g–æ–ægl–µ.com">g–æ–ægl–µ.com</a>
        <div class="description">Imita√ß√£o direta usando caracteres cir√≠licos (–æ –µ)</div>
        
        <a href="https://gŒøŒøgle.com">gŒøŒøgle.com</a>
        <div class="description">Imita√ß√£o usando caracteres gregos (Œø ao inv√©s de o)</div>
    </div>

    <div class="test-section">
        <h2>üåç Links IDN Leg√≠timos (Esperado: Verde - Tipo 1)</h2>
        <a href="https://xn--n3h.com">xn--n3h.com</a>
        <div class="description">‚òÉ.com - emoji leg√≠timo (apenas 1 script)</div>
        
        <a href="https://xn--fsq.xn--0zwm56d">xn--fsq.xn--0zwm56d</a>
        <div class="description">‰æã.ÊµãËØï - dom√≠nio chin√™s leg√≠timo (apenas 1 script)</div>
        
        <a href="https://‰æãÂ≠ê.com">‰æãÂ≠ê.com</a>
        <div class="description">Apenas caracteres chineses (direto, sem punycode)</div>
        
        <a href="https://—Ç–µ—Å—Ç.com">—Ç–µ—Å—Ç.com</a>
        <div class="description">Apenas caracteres cir√≠licos (direto)</div>
    </div>

    <div class="test-section">
        <h2>üìù Links Internos (Esperado: N√£o processados)</h2>
        <a href="/internal-link">Link interno</a>
        <div class="description">Links internos n√£o devem ser processados</div>
        
        <a href="#section">Link para √¢ncora</a>
        <div class="description">Links para √¢ncoras n√£o devem ser processados</div>
    </div>

    <script>
        // Aguardar a extens√£o carregar e processar os links
        setTimeout(() => {
            console.log('üß™ Verificando se links foram processados pela extens√£o...');
            
            const links = document.querySelectorAll('a[href^="http"]');
            let processedCount = 0;
            let type1Count = 0;
            let type2Count = 0;
            
            links.forEach(link => {
                if (link.classList.contains('security-link-type-1') || 
                    link.classList.contains('security-link-type-2')) {
                    processedCount++;
                    if (link.classList.contains('security-link-type-1')) type1Count++;
                    if (link.classList.contains('security-link-type-2')) type2Count++;
                }
            });
            
            console.log(`üìä Resultado do teste:`);
            console.log(`- Total de links externos: ${links.length}`);
            console.log(`- Links processados: ${processedCount}`);
            console.log(`- Tipo 1 (seguros): ${type1Count}`);
            console.log(`- Tipo 2 (suspeitos): ${type2Count}`);
            
            if (processedCount === 0) {
                console.warn('‚ö†Ô∏è Nenhum link foi processado pela extens√£o!');
            }
        }, 2000);
    </script>
</body>
</html>
