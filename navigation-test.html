<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste - Intercepta√ß√£o de Navega√ß√£o</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            line-height: 1.6;
            background: #f8fafc;
        }
        .test-section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #2563eb;
        }
        .danger-button {
            background: #ef4444;
        }
        .danger-button:hover {
            background: #dc2626;
        }
        .test-url {
            font-family: monospace;
            background: #f1f5f9;
            padding: 4px 8px;
            border-radius: 4px;
        }
        .instructions {
            background: #fef3c7;
            border: 1px solid #fbbf24;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>üõ°Ô∏è Teste - Intercepta√ß√£o de Navega√ß√£o Web Security</h1>
    
    <div class="instructions">
        <h3>üìã Instru√ß√µes para Teste</h3>
        <p><strong>Para testar intercepta√ß√£o da barra de endere√ßos:</strong></p>
        <ol>
            <li>Certifique-se que a extens√£o est√° carregada e ativada</li>
            <li>Digite uma das URLs suspeitas abaixo diretamente na barra de endere√ßos</li>
            <li>Pressione Enter</li>
            <li>A extens√£o deve interceptar e mostrar a p√°gina de bloqueio</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>üîó Teste 1: Links Clic√°veis (funcionalidade existente)</h2>
        <p>Clique nos links abaixo para testar a intercepta√ß√£o de cliques:</p>
        
        <a href="http://suspicious-phishing-site.com/login" class="test-button danger-button">
            Site Suspeito #1
        </a>
        
        <a href="https://goog1e.com/signin" class="test-button danger-button">
            Typosquatting Google
        </a>
        
        <a href="http://–∞—Ä—Äle.com" class="test-button danger-button">
            Unicode Spoofing Apple
        </a>
    </div>

    <div class="test-section">
        <h2>üåê Teste 2: URLs para Barra de Endere√ßos</h2>
        <p>Copie e cole estas URLs na barra de endere√ßos do navegador:</p>
        
        <div>
            <strong>URLs Suspeitas para Testar:</strong>
            <ul>
                <li><span class="test-url">http://suspicious-bank-login.com</span></li>
                <li><span class="test-url">https://amaz0n-security.com/login</span></li>
                <li><span class="test-url">http://paypal-verify.secure-login.com</span></li>
                <li><span class="test-url">https://microsoft-365-login.net</span></li>
                <li><span class="test-url">http://gmai1.com</span></li>
            </ul>
        </div>
        
        <button onclick="copyToClipboard('http://suspicious-bank-login.com')" class="test-button">
            Copiar URL Suspeita #1
        </button>
        
        <button onclick="copyToClipboard('https://amaz0n-security.com/login')" class="test-button">
            Copiar URL Suspeita #2
        </button>
        
        <button onclick="copyToClipboard('http://paypal-verify.secure-login.com')" class="test-button">
            Copiar URL Suspeita #3
        </button>
    </div>

    <div class="test-section">
        <h2>üìù Teste 3: Formul√°rios de Busca</h2>
        <p>Digite URLs suspeitas nos campos abaixo e envie:</p>
        
        <form onsubmit="handleFormSubmit(event)">
            <label>Campo de pesquisa:</label>
            <input type="text" name="search" placeholder="Digite uma URL suspeita aqui..." style="width: 400px; padding: 8px; margin: 10px;">
            <button type="submit" class="test-button">Pesquisar</button>
        </form>
        
        <form onsubmit="handleFormSubmit(event)">
            <label>Campo de URL:</label>
            <input type="url" name="website" placeholder="http://suspicious-site.com" style="width: 400px; padding: 8px; margin: 10px;">
            <button type="submit" class="test-button">Visitar Site</button>
        </form>
    </div>

    <div class="test-section">
        <h2>ü™ü Teste 4: Janelas/Popups</h2>
        <p>Teste abertura de URLs suspeitas em novas janelas:</p>
        
        <button onclick="openSuspiciousWindow()" class="test-button danger-button">
            Abrir Janela Suspeita
        </button>
        
        <button onclick="openSuspiciousTab()" class="test-button danger-button">
            Abrir Tab Suspeita
        </button>
    </div>

    <div class="test-section">
        <h2>‚úÖ URLs Seguras (para compara√ß√£o)</h2>
        <p>Estas devem funcionar normalmente:</p>
        
        <a href="https://google.com" class="test-button">Google</a>
        <a href="https://github.com" class="test-button">GitHub</a>
        <a href="https://stackoverflow.com" class="test-button">Stack Overflow</a>
    </div>

    <script>
        // Copiar para clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('URL copiada! Cole na barra de endere√ßos e pressione Enter.');
            });
        }
        
        // Handler de formul√°rio
        function handleFormSubmit(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            
            for (const [key, value] of formData.entries()) {
                console.log(`Enviando formul√°rio com ${key}: ${value}`);
                // O NavigationInterceptor deve capturar isso
            }
        }
        
        // Abrir janela suspeita
        function openSuspiciousWindow() {
            window.open('http://fake-bank-login.com', '_blank', 'width=600,height=400');
        }
        
        // Abrir tab suspeita
        function openSuspiciousTab() {
            window.open('https://phishing-example.com/login', '_blank');
        }
        
        // Log para debug
        console.log('üß™ P√°gina de teste carregada. Extens√£o Web Security deve estar ativa.');
        
        // Verificar se a extens√£o est√° carregada
        if (typeof chrome !== 'undefined' && chrome.runtime) {
            console.log('‚úÖ Chrome APIs detectadas - extens√£o provavelmente carregada');
        } else {
            console.log('‚ùå Chrome APIs n√£o detectadas - extens√£o pode n√£o estar carregada');
        }
    </script>
</body>
</html>
